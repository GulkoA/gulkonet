---
const {title, description, href, image, color} = Astro.props
// const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
// const randomLetters = Array.from({length: 4000}, () => characters[Math.floor(Math.random() * characters.length)]).join('')
---

<div class="card">
  <div class="card-image">
    <img src={image} alt={title}/>
  </div>

  
  <div class="card-body">
    <h2 class="card-title">{title}</h2>
    <p>{description}</p>
    <a href={href} class="card-link">View Project</a>
  </div>
  
  <!-- <div class="card-letters" style={{color: color}}> -->
    <!-- {randomLetters} -->
  <!-- </div> -->
</div>

<script>
  // const card = document.querySelector('.card')
  // const letters = document.querySelector('.card-letters')

  // if (card !== null && letters !== null) {
    // card.addEventListener('mousemove', (e) => {
      // const bounds = card.getBoundingClientRect()
      // // console.log(bounds)
      // const x = (e as MouseEvent).clientX - bounds.left
      // const y = (e as MouseEvent).clientY - bounds.top
      // letters.style.setProperty('--x', `${x}px`)
      // letters.style.setProperty('--y', `${y}px`)
    // })
  // }

</script>

<style>
  .card {
    display: flex;
    width: 1000px;
    height: 400px;
    border-radius: 16px;
    overflow: hidden;
    border: black 1px solid;
    padding: 0;

    background-color: #fff;

    --x: 0px;
    --y: 0px;
  }

  .card-image {
    margin-right: 1rem;
    width: 50%;
  }

  .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    mask-image: linear-gradient(to right, rgba(0,0,0,1), rgba(0,0,0,0));
  }

  .card-body {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 1rem;
  }

  .card-letters {
    --x: 0px;
    --y: 0px;
    /* behind text */
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: -1;
    font-size: 1rem;
    opacity: 0.1; /* Adjust opacity to make it subtle */
    white-space: normal; /* Allows wrapping */
    word-wrap: break-word; /* Forces long text to wrap */
    overflow: hidden;
    height: 100%;
    width: 100%;
    pointer-events: none; /* Prevent interaction with letters */
    -webkit-mask-image: radial-gradient(
    calc(var(--card-size) * 0.8) circle at var(--x) var(--y), 
    rgb(255 255 255) 20%, 
    rgb(255 255 255 / 25%), 
    transparent
  );
  }
</style>
    